#project를 통한 메모

1.다른 테이블에서 값 가져와서 그대로 추가하기
- insert into 추가할테이블  (추가할컬럼 )select 추카할컬럼 from 값 가져올 테이블; 
=>insert into screen (theater_num)select theater_num from theater; 

screen 이라는 테이블의 theater_num을 다른곳에서 가져오고싶다면 select문을 이용하여 가져올 테이블의 값의 범위를 설정해준다.
단! 가져올테이블의 값은 선행으로 만들어져야한다.


2.등호 와 between로 범위 설정

-등호로 표시
update screen set s_id='제2상영관',mv_name='라이오브파이',seats=1000 where s_num=10 or s_num<=16;

이렇게되면 16보다 작은 값은 모두 작아지게 되버리고 범위가 부적절하다.

- between으로 정확한 범위를 잡아준다.

update screen set s_id='제2상영관',mv_name='라이오브파이',seats=1000 where s_num between 10 and 16;

where 조건컬럼 btween  시작범위 and 끝날범위: 

3. merge into

대상 테이블의 해당 KEY에 맞는 데이터가 이미 있으면 UPDATE, 존재하지 않으면 INSERT를 하며 충돌방지를 위해 사용한다

MERGE INTO 테이블명  별칭
    USING 대상테이블/뷰  별칭
    ON 조인조건
    WHEN MATCHED THEN
    UPDATE SET
    컬럼1=값1
    컬럼2=값2
  WHEN NOT MATCHED THEN
      INSERT (컬럼1,컬럼2,...)
      VALUES(값1,값2,...);
      
 -  USING에 비교할 테이블이 없다면 dual테이블로 설정한다 (비교가아닌 직접 값 입력시)

4. join문을 이용한 update설정 

UPDATE TAB1 A 

SET     COL1 = ( SELECT COL2 

                         FROM TAB2

                         WHERE   KEY = A.KEY );

